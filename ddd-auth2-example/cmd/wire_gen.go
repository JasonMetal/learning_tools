// Code generated by Wire. DO NOT EDIT.

//go:generate go run github.com/google/wire/cmd/wire
//go:build !wireinject
// +build !wireinject

package main

import (
	"github.com/google/wire"
	"learning_tools/ddd-auth2-example/adpter"
	"learning_tools/ddd-auth2-example/domain/aggregate"
	"learning_tools/ddd-auth2-example/domain/service"
	"learning_tools/ddd-auth2-example/infrastructure/conf"
	"learning_tools/ddd-auth2-example/infrastructure/pkg/database/mongo"
	"learning_tools/ddd-auth2-example/infrastructure/pkg/database/redis"
	"learning_tools/ddd-auth2-example/infrastructure/pkg/log"
	"learning_tools/ddd-auth2-example/infrastructure/repository"
)

// Injectors from wire.go:

func NewApp() (*adpter.Server, error) {
	viper, err := conf.NewViper()
	if err != nil {
		return nil, err
	}
	appConfig, err := conf.NewAppConfigCfg(viper)
	if err != nil {
		return nil, err
	}
	options, err := conf.NewLoggerCfg(viper)
	if err != nil {
		return nil, err
	}
	logger, err := log.NewLogger(options)
	if err != nil {
		return nil, err
	}
	config, err := conf.NewMongoConfig(viper)
	if err != nil {
		return nil, err
	}
	client := mongo.NewMongo(config)
	redisConfig, err := conf.NewRedisConfig(viper)
	if err != nil {
		return nil, err
	}
	redisClient, err := redis.NewRedis(redisConfig)
	if err != nil {
		return nil, err
	}
	repositoryRepository := repository.NewRepository(client, redisClient)
	factory := aggregate.NewFactory(repositoryRepository)
	authSrv := service.NewService(repositoryRepository, factory)
	server := adpter.NewSrv(appConfig, logger, authSrv)
	return server, nil
}

// wire.go:

//go:generate wire
var providerSet = wire.NewSet(conf.NewViper, conf.NewAppConfigCfg, conf.NewLoggerCfg, conf.NewRedisConfig, conf.NewMongoConfig, log.NewLogger, redis.NewRedis, mongo.NewMongo, repository.NewRepository, aggregate.NewFactory, service.NewService, adpter.NewSrv)
